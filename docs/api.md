## Classes

<dl>
<dt><a href="#stylesheet">StyleSheet</a></dt>
<dd></dd>
</dl>

## Functions

<dl>
<dt><a href="#createtheme">createTheme(themes, options)</a> ⇒ <code><a href="#StyleSheet">StyleSheet</a></code></dt>
<dd><p>The <code>createTheme</code> function generates a theme StyleSheet instance with CSS variables 
based on the provided themes and options. It supports multiple color schemes, 
including <code>light</code>, <code>dark</code>, <code>light dark</code>, and <code>normal</code>. </p>
<p>The <code>themes</code> object defines the styles for these color schemes. Each key in the object 
corresponds to a color scheme (<code>light</code>, <code>dark</code>, <code>normal</code>), and its value is an object 
containing key-value pairs that will be converted into CSS variables. Nested keys are 
concatenated with <code>-</code> to form the variable name. For example, <code>{ light : { colors : { primary : &#39;blue&#39; } } }</code> 
generates <code>--fun-colors-primary : blue</code>.</p>
</dd>
<dt><a href="#css">css(styles)</a> ⇒ <code><a href="#StyleSheet">StyleSheet</a></code></dt>
<dd><p>Creates a new StyleSheet instance and attaches it to the DOM.</p>
</dd>
</dl>

<a name="stylesheet" id="stylesheet" class="anchor"></a>
## StyleSheet
**Kind**: global class  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| classes | <code>Object</code> | The classes object. An object with keys as your original class names and values as the generated unique class names. It will be generated by the  instance. Use it to get the class name to use in your components. |
| styles | <code>Object</code> | The styles object. The original styles object. See `styles`. |
| uid | <code>String</code> | The unique identifier for the stylesheet. It will be generated by `this.generateUid`. |
| attributes | <code>Object</code> | See `options.attributes`. |
| renderers | <code>Array</code> | See `options.renderers`. |
| el | <code>HTMLElement</code> | The style element. A reference to the style element in the DOM.  It will be created when the instance is attached. |


* [StyleSheet](#stylesheet)
    * [new StyleSheet(styles, options)](#new_stylesheet_new)
    * _instance_
        * [.generateUid()](#stylesheet__generateuid) ⇒ <code>String</code>
        * [.generateClassName(className)](#stylesheet__generateclassname) ⇒ <code>String</code>
        * [.render()](#stylesheet__render) ⇒ <code>String</code>
        * [.toString()](#stylesheet__tostring) ⇒ <code>String</code>
        * [.shouldAddToDOM()](#stylesheet__shouldaddtodom) ⇒ <code>Boolean</code>
        * [.attach()](#stylesheet__attach) ⇒ [<code>StyleSheet</code>](#StyleSheet)
        * [.destroy()](#stylesheet__destroy) ⇒ [<code>StyleSheet</code>](#StyleSheet)
    * _static_
        * [.prefix](#stylesheet_prefix)
        * [.indent](#stylesheet_indent)
        * [.registry](#stylesheet_registry)
        * [.debug](#stylesheet_debug)
        * [.toString()](#stylesheet_tostring) ⇒ <code>string</code>
        * [.destroy()](#stylesheet_destroy)

<a name="new_stylesheet_new" id="new_stylesheet_new" class="anchor"></a>
### new StyleSheet(styles, options)
The StyleSheet class receives at the constructor a styles object and an options
object and generate a css StyleSheet.  
The StyleSheet can be attached to the DOM, destroyed or rendered as string for 
server-side rendering.


| Param | Type | Description |
| --- | --- | --- |
| styles | <code>Object</code> | The styles object. An object with keys as selectors and values as  style objects. This object will pass trough the renderers and generate the css string. It will be added to the instance as `this.styles`. |
| options | <code>Object</code> | The options object.   `options.uidPrefix`, `options.generateClassName`, `options.generateId`,  `options.attributes` and `options.renderers` will be added to the instance. |
| options.prefix | <code>String</code> | The prefix for `uid` and data attribute. |
| options.generateUid | <code>function</code> | The function to generate the `StyleSheet` unique identifier. |
| options.generateClassName | <code>function</code> | The function to generate class names.  This class name will be used to generate the unique class names for scoped styles. |
| options.attributes | <code>Object</code> | The attributes object. This attributes will be added  to the `<style>` element. |
| options.renderers | <code>Array</code> | The array of renderers.  Renderers are functions that transform style objects into CSS strings.     When composed, the first renderer receives the styles object, and the final one outputs the  resulting CSS string.   Elements in the `renderers` array can be either functions or strings that reference methods of the  StyleSheet instance. These methods will be bound to the instance before they are invoked. By default, `StyleSheet` are rendered using the built-in renderers:  `['parseStyles', 'renderStyles']`. |
| options.shouldAddToDOM | <code>function</code> | The function to determine if the StyleSheet should be added to the DOM. |

**Example**  
```js
// Create a new StyleSheet instance with a styles object.
const instance = new StyleSheet({
    root : {
        color : 'black'
    }
});
// Attach the StyleSheet instance to the DOM.
instance.attach();
// Get classes object from the instance.
const { classes } = instance;
// Use the classes object to get the class name and use it in your component.
function Header = () => <h1 className={classes.root}>Hello World</h1>;
```
<a name="stylesheet__generateuid" id="stylesheet__generateuid" class="anchor"></a>
### styleSheet.generateUid() ⇒ <code>String</code>
Generate a stable unique identifier.
May be overridden by `options.generateUid`.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The unique identifier.  
<a name="stylesheet__generateclassname" id="stylesheet__generateclassname" class="anchor"></a>
### styleSheet.generateClassName(className) ⇒ <code>String</code>
Generate a unique class name.
Transform local selectors that are classes to unique class names
to be used as class names in the styles object.
May be overridden by `options.generateClassName`.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The unique class name.  

| Param | Type | Description |
| --- | --- | --- |
| className | <code>String</code> | The class name. |

<a name="stylesheet__render" id="stylesheet__render" class="anchor"></a>
### styleSheet.render() ⇒ <code>String</code>
Apply the renderers to the styles object.
It will return a string ready to be added to the style element.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The styles object as a string.  
<a name="stylesheet__tostring" id="stylesheet__tostring" class="anchor"></a>
### styleSheet.toString() ⇒ <code>String</code>
Render the StyleSheet as a style element string.
Used for server-side rendering.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The instance as a string.  
<a name="stylesheet__shouldaddtodom" id="stylesheet__shouldaddtodom" class="anchor"></a>
### styleSheet.shouldAddToDOM() ⇒ <code>Boolean</code>
Check if the StyleSheet should be added to the DOM.
By default, it returns true if running in a browser environment and no style element
with the same `data-fun-uid` attribute exists in the DOM.
This prevents duplicate style elements and ensures proper behavior for server-side rendering.
May be overridden by `options.shouldAddToDOM`.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>Boolean</code> - True if the StyleSheet should be added to the DOM, false otherwise.  
<a name="stylesheet__attach" id="stylesheet__attach" class="anchor"></a>
### styleSheet.attach() ⇒ [<code>StyleSheet</code>](#StyleSheet)
Add the instance to the registry and if we are in the browser, 
attach it to the DOM.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The instance.  
<a name="stylesheet__destroy" id="stylesheet__destroy" class="anchor"></a>
### styleSheet.destroy() ⇒ [<code>StyleSheet</code>](#StyleSheet)
Destroy the instance and remove it from the registry and 
from the DOM, if it's present.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The instance.  
<a name="stylesheet_prefix" id="stylesheet_prefix" class="anchor"></a>
### StyleSheet.prefix
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Default**: <code>fun</code>  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| prefix | <code>String</code> | The class prefix. Used to generate unique class names. |

<a name="stylesheet_indent" id="stylesheet_indent" class="anchor"></a>
### StyleSheet.indent
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Default**: <code>&#x27;    &#x27;</code>  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| indent | <code>String</code> | The indent string. Used to format text when debug is enabled. |

<a name="stylesheet_registry" id="stylesheet_registry" class="anchor"></a>
### StyleSheet.registry
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| registry | <code>Array</code> | The registry array. StyleSheet instances  will be added to this array. |

<a name="stylesheet_debug" id="stylesheet_debug" class="anchor"></a>
### StyleSheet.debug
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Default**: <code>false</code>  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| debug | <code>Boolean</code> | The debug flag. If true, the styles will be formatted with indentation and new lines. |

<a name="stylesheet_tostring" id="stylesheet_tostring" class="anchor"></a>
### StyleSheet.toString() ⇒ <code>string</code>
Render all instances in the registry as a string.

**Kind**: static method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>string</code> - All instances in the registry as a string.  
<a name="stylesheet_destroy" id="stylesheet_destroy" class="anchor"></a>
### StyleSheet.destroy()
Destroy all instances in the registry and remove them from 
it and from the DOM.

**Kind**: static method of [<code>StyleSheet</code>](#StyleSheet)  
<a name="createtheme" id="createtheme" class="anchor"></a>
## createTheme(themes, options) ⇒ [<code>StyleSheet</code>](#StyleSheet)
The `createTheme` function generates a theme StyleSheet instance with CSS variables 
based on the provided themes and options. It supports multiple color schemes, 
including `light`, `dark`, `light dark`, and `normal`. 

The `themes` object defines the styles for these color schemes. Each key in the object 
corresponds to a color scheme (`light`, `dark`, `normal`), and its value is an object 
containing key-value pairs that will be converted into CSS variables. Nested keys are 
concatenated with `-` to form the variable name. For example, `{ light : { colors : { primary : 'blue' } } }` 
generates `--fun-colors-primary : blue`.

**Kind**: global function  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The theme StyleSheet instance. Use `classes.root` to get the theme class name. 
Apply this class to the element you want to theme. The CSS variables will be available for all 
its descendants.  

| Param | Type | Description |
| --- | --- | --- |
| themes | <code>Object</code> | An object defining styles for color schemes (`light`, `dark`, `normal`).  Each key corresponds to a color scheme, and its value is an object of key-value pairs converted  to CSS variables. Nested keys are concatenated with `-` to form variable names. |
| options | <code>Object</code> | An object to customize the theme generation. It includes options  for selecting color schemes, customizing CSS variable prefixes, and controlling StyleSheet creation. |
| options.colorScheme | <code>String</code> | Specifies the color scheme(s) to use. Possible values are:  `light` (uses the `light` theme only), `dark` (uses the `dark` theme only), `light dark` (default,  supports both `light` and `dark` themes, adapting to system preferences; can override system  preference with `data-color-scheme` set to `light` or `dark`), and `normal` (uses the `normal` theme only). |
| options.cssVarsPrefix | <code>String</code> | The prefix for the generated CSS variables. Default is `fun`.  For example, a key `color` in the theme will generate a CSS variable like `--fun-color`. |
| options.createStyleSheet | <code>function</code> | A function used to create a new StyleSheet instance.  By default, it uses the `css` function. |
| options.styleSheetOptions | <code>Object</code> | Options to pass when creating the StyleSheet instance.  Default is `system`. |

**Example**  
```js
// Create a theme with light and dark color schemes and apply it to the entire page.
const theme = createTheme({
    light : {
        colorPrimary : 'black',
        backgroundLevel1 : 'white'
    },
    dark : {
        colorPrimary : 'white',
        backgroundLevel1 : 'black'
    }
});

// Add the `root` class (the theme class) to the body element.
// This will apply the theme to the entire page.
document.body.classList.add(theme.classes.root);

// Add some styles using the theme CSS variables.
const { classes } = css({
    button : {
        color : 'var(--fun-colorPrimary)', // Use the CSS variable generated from the theme.
        backgroundColor : 'var(--fun-backgroundLevel1)'
    }
});

// Add the `button` class to a button component.
// The button will use the CSS variables defined in the theme for its styles.
// Once the theme is applied, the button will automatically update its styles.
// If the system color scheme changes (e.g., from light to dark), the button will 
// dynamically update to reflect the new theme without requiring additional code.
const Button = ({ label }) => <button className={classes.button}>{label}</button>;
```
<a name="css" id="css" class="anchor"></a>
## css(styles) ⇒ [<code>StyleSheet</code>](#StyleSheet)
Creates a new StyleSheet instance and attaches it to the DOM.

**Kind**: global function  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The StyleSheet instance.  

| Param | Type | Description |
| --- | --- | --- |
| styles | <code>Object</code> | The CSS rules. |

**Example**  
```js
// Create some styles for a link component.
const { classes } = css({
    link : {
        color : 'blue',
        '&:hover' : {
           textDecoration : 'underline'
        }
    }
});
// Create a link component. Add the `link` class to it.
const Link = ({ label, href }) => <a className={classes.link} href={href}>{label}</a>;
```
