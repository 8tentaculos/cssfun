## Classes

<dl>
<dt><a href="#stylesheet">StyleSheet</a></dt>
<dd></dd>
</dl>

## Functions

<dl>
<dt><a href="#createtheme">createTheme(defaultThemes)</a> ⇒ <code>function</code></dt>
<dd><p>Higher order function that receives an optional default themes object and returns a <code>createTheme</code> function.</p>
</dd>
<dt><a href="#createtheme">createTheme(options)</a> ⇒ <code><a href="#StyleSheet">StyleSheet</a></code></dt>
<dd><p>The <code>createTheme</code> function receives an options object and returns a theme StyleSheet instance.<br>It supports light, dark and system color schemes.</p>
</dd>
<dt><a href="#css">css(rules)</a> ⇒ <code><a href="#StyleSheet">StyleSheet</a></code></dt>
<dd><p>Function used to create a new StyleSheet instance 
and attach it to the DOM.</p>
</dd>
</dl>

<a name="stylesheet" id="stylesheet"></a>
## StyleSheet
**Kind**: global class  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| styles | <code>Object</code> | The styles object. |
| classes | <code>Object</code> | The original class names object. Use this object to apply  class names to your components. |
| uid | <code>Number</code> | The unique identifier generating class names.  It will be incremented on each generated class name. |
| id | <code>String</code> | The unique identifier for the stylesheet. It will be used as the  style element id. It will be generated by `this.generateId` or can be set on `options.attributes.id`. |
| attributes | <code>Object</code> | The attributes object. It can be set on  `options.attributes`. |
| renderers | <code>Array</code> | The array of renderers. It can be set on  `options.renderers`. |
| el | <code>HTMLElement</code> | The style element. A reference to the style element in the DOM.  It will be created when the instance is attached. |


* [StyleSheet](#stylesheet)
    * [new StyleSheet(styles, options)](#new_stylesheet_new)
    * _instance_
        * [.generateId()](#stylesheet__generateid) ⇒ <code>String</code>
        * [.generateClassName(className)](#stylesheet__generateclassname) ⇒ <code>String</code>
        * [.toString()](#stylesheet__tostring) ⇒ <code>String</code>
        * [.attach()](#stylesheet__attach) ⇒ [<code>StyleSheet</code>](#StyleSheet)
        * [.destroy()](#stylesheet__destroy) ⇒ [<code>StyleSheet</code>](#StyleSheet)
    * _static_
        * [.classPrefix](#stylesheet_classprefix)
        * [.indent](#stylesheet_indent)
        * [.registry](#stylesheet_registry)
        * [.uid](#stylesheet_uid)
        * [.debug](#stylesheet_debug)
        * [.toString()](#stylesheet_tostring) ⇒ <code>string</code>
        * [.attach()](#stylesheet_attach)
        * [.destroy()](#stylesheet_destroy)

<a name="new_stylesheet_new" id="new_stylesheet_new"></a>
### new StyleSheet(styles, options)
The StyleSheet class receives at the constructor a styles object and an options
object and generate a css StyleSheet.  
The StyleSheet can be attached to the DOM, destroyed or rendered as string for 
 server-side rendering.


| Param | Type | Description |
| --- | --- | --- |
| styles | <code>Object</code> | The styles object. An object with keys as selectors and values as  style objects. This object will pass trough the renderers and generate the css string. |
| options | <code>Object</code> | The options object. |
| options.generateClassName | <code>function</code> | The function to generate class names.  This class name will be used to generate the unique class names for styles.   `options.generateClassName` will be added to the instance. |
| options.generateId | <code>function</code> | The function to generate ids. This id will be used  as the style element id.   `options.generateId` will be added to the instance. |
| options.attributes | <code>Object</code> | The attributes object. This attributes will be added  to the style element.   `options.attributes` will be added to the instance. |
| options.renderers | <code>Array</code> | The array of renderers.  Renderers are functions that transform style objects into CSS strings.   When composed, the first parser receives the styles object, and the final one outputs the resulting CSS string.   If no renderers array is provided, by default, StyleSheets are rendered using `['renderStyles', 'parseStyles']`. The elements in the `renderers` array can either be functions or strings referencing methods of the StyleSheet  instance. These methods will be bound to the instance automatically. `options.renderers` will be added to the instance. |

**Example**  
```js
// Create a new StyleSheet instance with a styles object.
const instance = new StyleSheet({
    root : {
        color : 'black',
    }
});
// Attach the StyleSheet instance to the DOM.
instance.attach();
// Get classes object from the instance.
const { classes } = instance;
// Use the classes object to get the class name and use it in your component.
function Header = () => <h1 className={classes.root}>Hello World</h1>;
```
<a name="stylesheet__generateid" id="stylesheet__generateid"></a>
### styleSheet.generateId() ⇒ <code>String</code>
Generate a unique identifier. Used for the style element id.
May be overridden by `options.generateId`.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The unique identifier.  
<a name="stylesheet__generateclassname" id="stylesheet__generateclassname"></a>
### styleSheet.generateClassName(className) ⇒ <code>String</code>
Generate a unique class name.
Transform local selectors that are classes to unique class names
to be used as class names in the styles object.
May be overridden by `options.generateClassName`.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The unique class name.  

| Param | Type | Description |
| --- | --- | --- |
| className | <code>String</code> | The class name. |

<a name="stylesheet__tostring" id="stylesheet__tostring"></a>
### styleSheet.toString() ⇒ <code>String</code>
Render the StyleSheet as a style element string.
Used for server-side rendering.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>String</code> - The instance as a string.  
<a name="stylesheet__attach" id="stylesheet__attach"></a>
### styleSheet.attach() ⇒ [<code>StyleSheet</code>](#StyleSheet)
Add the instance to the registry and if we are in the browser, 
attach it to the DOM.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The instance.  
<a name="stylesheet__destroy" id="stylesheet__destroy"></a>
### styleSheet.destroy() ⇒ [<code>StyleSheet</code>](#StyleSheet)
Destroy the instance and remove it from the registry and 
from the DOM, if it's present.

**Kind**: instance method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The instance.  
<a name="stylesheet_classprefix" id="stylesheet_classprefix"></a>
### StyleSheet.classPrefix
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| classPrefix | <code>String</code> | The class prefix. Used to generate unique class names. |

<a name="stylesheet_indent" id="stylesheet_indent"></a>
### StyleSheet.indent
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| indent | <code>String</code> | The indent string. Used to format text when debug is enabled.  The default is 4 spaces. |

<a name="stylesheet_registry" id="stylesheet_registry"></a>
### StyleSheet.registry
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| registry | <code>Array</code> | The registry array. StyleSheet instances  will be added to this array. |

<a name="stylesheet_uid" id="stylesheet_uid"></a>
### StyleSheet.uid
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| uid | <code>Number</code> | The unique identifier counter.  It will be incremented for each generated id. |

<a name="stylesheet_debug" id="stylesheet_debug"></a>
### StyleSheet.debug
**Kind**: static property of [<code>StyleSheet</code>](#StyleSheet)  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| debug | <code>Boolean</code> | The debug flag. Default is `false`. |

<a name="stylesheet_tostring" id="stylesheet_tostring"></a>
### StyleSheet.toString() ⇒ <code>string</code>
Render all instances in the registry as a string.

**Kind**: static method of [<code>StyleSheet</code>](#StyleSheet)  
**Returns**: <code>string</code> - All instances in the registry as a string.  
<a name="stylesheet_attach" id="stylesheet_attach"></a>
### StyleSheet.attach()
Attach all instances in the registry to the DOM.

**Kind**: static method of [<code>StyleSheet</code>](#StyleSheet)  
<a name="stylesheet_destroy" id="stylesheet_destroy"></a>
### StyleSheet.destroy()
Destroy all instances in the registry and remove them from 
it and from the DOM.

**Kind**: static method of [<code>StyleSheet</code>](#StyleSheet)  
<a name="createtheme" id="createtheme"></a>
## createTheme(defaultThemes) ⇒ <code>function</code>
Higher order function that receives an optional default themes object and returns a `createTheme` function.

**Kind**: global function  
**Returns**: <code>function</code> - The `createTheme` function.  

| Param | Type | Description |
| --- | --- | --- |
| defaultThemes | <code>Object</code> | Object with keys `light` and `dark` that contains the default themes. |

<a name="createtheme" id="createtheme"></a>
## createTheme(options) ⇒ [<code>StyleSheet</code>](#StyleSheet)
The `createTheme` function receives an options object and returns a theme StyleSheet instance.  
It supports light, dark and system color schemes.

**Kind**: global function  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The theme StyleSheet instance. Use `classes.root` to get the theme class name. 
Apply it to the element you want to theme. Css variables will be available for all its descendants.  

| Param | Type | Description |
| --- | --- | --- |
| options | <code>Object</code> | The options object. |
| options.themes | <code>Object</code> | The themes object. Themes object `{ light, dark }` will be merged  with the default themes object (if any). Themes object will be converted to css variables that will be  available under the `root` class of the theme StyleSheet instance.   For example: `{ backgroundLevel1 : 'black' }` will be converted to `--fun-background-level1`.   You can add `root` class to the root element of your component, for theming a single component.  Or you can add it to the `body` element, for theming the whole page. |
| options.cssVarsPrefix | <code>String</code> | The css variables prefix. Default is `fun`. |
| options.colorScheme | <code>String</code> | The color scheme. Possible values are `light`, `dark` and `system`.  Default is `system`.   If `light` or `dark` is set, the theme will be fixed to that color scheme. Only necessary css variables  will be generated. If `system` is set, the theme will be generated for both light and dark color schemes.  And by default it will follow the system color scheme. If you want to override the system color scheme, you can set the `data-color-scheme` attribute to `light`  or `dark` on a parent element. |

**Example**  
```js
// Create a default theme and apply it to the whole page.
//
// Create a `createTheme` function with default themes.
// Then create a theme StyleSheet instance with no options.
const theme = createTheme({
    light : {
        color : 'black',
        backgroundColor : 'white',
    },
    dark : {
        color : 'white',
        backgroundColor : 'black',
    },
})();
// Add the `root` class (the theme class) to the body element.
// So the theme will be applied to the whole page.
document.body.classList.add(theme.classes.root);
// Add some styles using the theme css variables.
const { classes } = css({
    button : {
        color : '--fun-color',
        backgroundColor : '--fun-backgroundColor',
    },
});
// Add the `button` class to a button component.
// You may use the vars at your styles even before the theme is applied, or created.
// Your component will update when the theme is applied.
// If system color changes, the button will update automatically.
const Button = ({ label }) => <button className={classes.button}>{label}</button>;
 
```
**Example**  
```js
// Create a default theme and apply it to the whole page.
// Create a secondary theme and apply it to a specific component.
//
// Create a `createTheme` function with default themes.
const ct = createTheme({
    light : {
        color : 'black',
        backgroundColor : 'white',
    },
    dark : {
        color : 'white',
        backgroundColor : 'black',
    },
})();
// Create a main theme for the app.
// Use default themes and no options.
const mainTheme = ct();
// Add the `root` class (the theme class) to the body element.
// So the theme will be applied to the whole page.
document.body.classList.add(mainTheme.classes.root);
// Create a secondary theme for a specific component.
// Extend the main theme with some custom styles.
const secondaryTheme = ct({
    themes : {
        light : {
            color : 'blue',
        },
        dark : {
            backgroundColor : 'blue',
        },
    },
});
// Add some styles using the theme css variables.
const { classes } = css({
    button : {
        color : '--fun-color',
        backgroundColor : '--fun-backgroundColor',
    },
});
// Add the `button` class to a button component. It will use the main theme.
const Button = ({ label }) => <button className={classes.button}>{label}</button>;
// Add the `button` class and the secondary theme class to a button component. 
// To use the secondary theme on it.
const ThemedButton = ({ label }) => (
    <button className={`${classes.button} ${secondaryTheme.classes.root}`}>{label}</button>;
);
```
<a name="css" id="css"></a>
## css(rules) ⇒ [<code>StyleSheet</code>](#StyleSheet)
Function used to create a new StyleSheet instance 
and attach it to the DOM.

**Kind**: global function  
**Returns**: [<code>StyleSheet</code>](#StyleSheet) - The StyleSheet instance.  

| Param | Type | Description |
| --- | --- | --- |
| rules | <code>Object</code> | The CSS rules. |

**Example**  
```js
// Create some styles for a link component.
const { classes } = css({
    link : {
        color : 'blue',
        '&:hover' : {
           textDecoration : 'underline',
        }, 
    },
});
// Create a link component. Add the `link` class to it.
const Link = ({ label, href }) => <a className={classes.link} href={href}>{label}</a>;
```
